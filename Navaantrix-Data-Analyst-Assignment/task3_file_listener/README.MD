# Task 3: File Listener and Database Upload

# Task 3: File Listener and Database Upload

This module continuously monitors a folder for newly added CSV files.  
Whenever a new CSV file is detected, the script automatically reads the file and uploads its content into an SQLite database.  
Each CSV file is stored in a separate table (auto-created), ensuring there are no column conflicts.


## ğŸ“ Folder Structure

task3_file_listener/  
â”‚  
â”œâ”€â”€ listener.py  
â”œâ”€â”€ database.db  
â””â”€â”€ data/               â† Drop/upload CSV files here  

---

## ğŸ¯ Objective

- Monitor a folder continuously
- Detect new CSV files automatically  
- Read the file and upload its content into a database  
- Create a new table for each file without column conflicts  
- Provide proper logs and error handling  
- Ensure the script runs continuously  


## ğŸ›  Technologies Used

- **Python 3**
- **Watchdog** (for folder monitoring)
- **Pandas** (for CSV reading)
- **SQLite** (lightweight database, no setup required)

Install dependencies:
pip install watchdog pandas

.â–¶ï¸ How to Run the Program
Step 1 â€” Navigate to folder
     cd task3_file_listener

Step 2 â€” Start the listener
     python listener.py


You will see:

ğŸ“Œ File Listener Started!
ğŸ“‚ Monitoring folder: data
â³ Waiting for new CSV files...

Step 3 â€” Upload CSV files
 Copy any .csv file into the data folder:
    task3_file_listener/data/your_file.csv


The program automatically detects it:

[DETECTED] New file â†’ data\your_file.csv
[INFO] Reading file: data\your_file.csv
[SUCCESS] Uploaded into table â†’ uploaded_your_file


ğŸ—„ Database Output

A new SQLite file is created:
    database.db

Inside this, a dedicated table is created for each CSV file:

Example:
CSV File	    Database Table Name
creditcard.csv	uploaded_creditcard
Train.csv	    uploaded_train
Sales2024.csv	uploaded_sales2024

This ensures:
No conflicts
Different schemas supported
Any dataset accepted

ğŸ”§ How It Works (Behind the Scenes)
1. watchdog
   Listens for new files in the data/ folder.

2. pandas
   Reads the CSV into a DataFrame.

3. Auto Table Creation
   Table name is generated based on filename:
   uploaded_<filename>

4. Database Upload
 Data is inserted using:
   df.to_sql(table_name, conn, if_exists="replace", index=False)

5. Continuous Monitoring
Runs a loop until the user presses CTRL + C.

